# Configuración mínima para pipeline de demanda hotelera Mendoza

# -------------------------------
# Turismo (ETI - CSVs directos)  
# -------------------------------
eti_aeropuerto:
  dataset_name: "eti_mendoza_aeropuerto_turistas_no_residentes"
  api_url: "https://datos.yvera.gob.ar/dataset/78b880c1-50d5-4a0c-9c87-7350e70548c2/resource/c112ca01-2563-4a48-a8d6-1126af9a5f1d/download/turistas_pernoctes_estadia_media_turistas_no_residentes_por_residencia_aeropuerto_mendoza_trimes.csv"
  type: "direct_csv"
  min_bytes: 2000

eti_cristo_redentor:
  dataset_name: "eti_mendoza_cristo_redentor_turistas_no_residentes"
  api_url: "https://datos.yvera.gob.ar/dataset/78b880c1-50d5-4a0c-9c87-7350e70548c2/resource/941a5faf-898d-47f5-b889-25e3919bc468/download/turistas_pernoctes_estadia_media_turistas_no_residentes_por_residencia_cristo_redentor_trimestra.csv"
  type: "direct_csv"
  min_bytes: 2000

# -------------------------------
# Variables económicas (BCRA)
# -------------------------------
bcra_usd:
  dataset_name: "cotizacion_usd_bcra"
  api_url: "https://apis.datos.gob.ar/series/api/series/?ids=168.1_T_CAMBIOR_D_0_0_26&start_date=2018-01-01&limit=5000"
  type: "api_json"
  min_bytes: 1000
  date_column: "index"
  value_column: "value"

# -------------------------------
# Eventos principales Mendoza
# -------------------------------
eventos_mendoza:
  dataset_name: "eventos_turisticos_mendoza"
  manual_data: true
  eventos_principales:
    - nombre: "Fiesta Nacional de la Vendimia"
      mes: 3
    - nombre: "Vacaciones de Verano"
      mes: [1, 2]
    - nombre: "Vacaciones de Invierno"
      mes: 7
    - nombre: "Temporada de Esquí"
      mes: [7, 8]
    - nombre: "Primavera"
      mes: 10
    - nombre: "Fin de Año"
      mes: 12

# -------------------------------
# Configuración del pipeline
# -------------------------------
defaults:
  timeout_seconds: 180
  chunk_size: 8192
  max_retries: 3
  min_rows_per_table: 3
  enable_small_files: true

validation:
  enable_data_quality_checks: true
  min_rows_per_table: 3
  allow_small_valid_files: true
  small_file_threshold: 5000
  dataset_url: "https://cdn.smn.gob.ar/datos2/historicos/observaciones_mendoza.csv"
  description: "Datos climáticos históricos Mendoza"
  type: "direct_csv"
  min_bytes: 5000

# -------------------------------
# Conectividad aérea (EANA - scraping)
# -------------------------------
conectividad_aerea:
  dataset_name: "vuelos_mendoza_eana"
  dataset_url: "https://datos.gob.ar/dataset/transporte-operaciones-aeroportuarias"
  description: "Operaciones aeroportuarias - Aeropuerto Mendoza"
  type: "dataset_page_scraping"
  min_bytes: 50000
  dynamic_scraping: true


# -------------------------------
# Eventos (manual)
# -------------------------------
eventos_mendoza:
  dataset_name: "eventos_turisticos_mendoza"
  manual_data: true
  description: "Eventos turísticos relevantes Mendoza"
  eventos_principales:
    - nombre: "Fiesta Nacional de la Vendimia"
      mes: 3
      impacto: "alto"
      duracion_dias: 15
    - nombre: "Festival Internacional de Cine"
      mes: 10
      impacto: "medio"
      duracion_dias: 7
    - nombre: "Navidad y Año Nuevo"
      mes: [12, 1]
      impacto: "alto"
      duracion_dias: 21
    - nombre: "Vacaciones de Invierno"
      mes: 7
      impacto: "alto"
      duracion_dias: 15


# Para URLs que cambian mes a mes, agregá estas entradas:

# Ejemplo para INDEC con URLs dinámicas
indec_turismo_dinamico:
  dataset_name: "turismo_indec_dinamico"
  base_url: "https://www.indec.gob.ar/indec/web/Nivel4-Tema-4-35-61"
  search_pattern: "turismo.*\\.csv$"
  type: "dynamic_url"
  fallback_type: "direct_csv"
  min_bytes: 5000
  description: "Datos turísticos INDEC con URL dinámica"

# Configuración por defecto para validaciones
defaults:
  timeout_seconds: 180
  chunk_size: 8192
  max_retries: 3
  min_rows_per_table: 3  # Reducido desde 5
  enable_small_files: true  # Nueva opción

# Configuración de validación
validation:
  enable_data_quality_checks: true
  min_rows_per_table: 3  # Reducido para archivos ETI pequeños
  allow_small_valid_files: true  # Nueva opción
  small_file_threshold: 5000  # bytes

